# ✅ چک‌لیست استقرار سیستم تولید کارت بانکی

## 🚀 قبل از استقرار

### ✅ پیش‌نیازها
- [ ] Node.js نسخه 16+ نصب شده
- [ ] npm یا yarn نصب شده
- [ ] MongoDB (محلی یا ابری) آماده است
- [ ] دسترسی به هاست/سرور دارید

### ✅ فایل‌های ضروری
- [ ] `package.json` موجود است
- [ ] `server.js` موجود است
- [ ] `public/index.html` موجود است
- [ ] تمام پوشه‌ها (models, routes, utils, middleware) موجود است

## 🔧 تنظیمات

### ✅ متغیرهای محیطی
- [ ] فایل `.env` ایجاد شده
- [ ] `JWT_SECRET` تنظیم شده (کلید امن تغییر یافته)
- [ ] `MONGODB_URI` تنظیم شده
- [ ] `NODE_ENV=production` تنظیم شده
- [ ] `CORS_ORIGIN` تنظیم شده

### ✅ امنیت
- [ ] `JWT_SECRET` کلید طولانی و تصادفی است
- [ ] `BCRYPT_ROUNDS` حداقل 12 تنظیم شده
- [ ] `RATE_LIMIT` فعال شده

## 🌐 استقرار

### ✅ هاست اشتراکی
- [ ] فایل‌ها در `public_html` آپلود شده
- [ ] `.htaccess` تنظیم شده
- [ ] `npm install --production` اجرا شده
- [ ] `npm start` اجرا شده

### ✅ هاست VPS
- [ ] Node.js نصب شده
- [ ] MongoDB نصب و راه‌اندازی شده
- [ ] `chmod +x deploy.sh` اجرا شده
- [ ] `./deploy.sh` اجرا شده
- [ ] PM2 نصب و تنظیم شده

### ✅ هاست ابری
- [ ] اکانت هاست ابری ایجاد شده
- [ ] پروژه GitHub متصل شده
- [ ] متغیرهای محیطی تنظیم شده
- [ ] استقرار خودکار فعال شده

## 🧪 تست

### ✅ تست اپلیکیشن
- [ ] اپلیکیشن روی پورت صحیح اجرا می‌شود
- [ ] endpoint `/health` پاسخ می‌دهد
- [ ] رابط کاربری در مرورگر باز می‌شود
- [ ] فرم تولید کارت کار می‌کند

### ✅ تست API
- [ ] `POST /api/cards/generate` کار می‌کند
- [ ] `POST /api/cards/generate-iranian` کار می‌کند
- [ ] `GET /api/cards` کار می‌کند
- [ ] احراز هویت JWT کار می‌کند

### ✅ تست تولید کارت
- [ ] شماره کارت معتبر تولید می‌شود
- [ ] PIN 4 رقمی تولید می‌شود
- [ ] CVV2 3 رقمی تولید می‌شود
- [ ] Track 1 و Track 2 تولید می‌شود
- [ ] تاریخ انقضا معتبر است

## 🔐 امنیت نهایی

### ✅ HTTPS
- [ ] گواهی SSL نصب شده
- [ ] تمام ترافیک HTTPS است
- [ ] HTTP به HTTPS redirect می‌شود

### ✅ فایروال
- [ ] فقط پورت‌های ضروری باز است
- [ ] SSH (22) محافظت شده
- [ ] HTTP (80) و HTTPS (443) باز است

### ✅ دیتابیس
- [ ] MongoDB authentication فعال است
- [ ] دسترسی محدود به IP های مجاز
- [ ] پشتیبان‌گیری منظم تنظیم شده

## 📊 مانیتورینگ

### ✅ لاگ‌ها
- [ ] لاگ‌های اپلیکیشن فعال است
- [ ] لاگ‌های سیستم فعال است
- [ ] لاگ‌های MongoDB فعال است

### ✅ آمار
- [ ] PM2 monitoring فعال است
- [ ] آمار سیستم قابل مشاهده است
- [ ] هشدارهای خطا تنظیم شده

## 🚨 عیب‌یابی

### ✅ مشکلات رایج
- [ ] خطای CORS بررسی شده
- [ ] خطای اتصال دیتابیس بررسی شده
- [ ] خطای JWT بررسی شده
- [ ] خطای rate limiting بررسی شده

### ✅ لاگ‌ها
- [ ] لاگ‌های خطا بررسی شده
- [ ] لاگ‌های اپلیکیشن بررسی شده
- [ ] لاگ‌های سیستم بررسی شده

## 📚 مستندات

### ✅ راهنماها
- [ ] `README.md` موجود است
- [ ] `DEPLOYMENT.md` موجود است
- [ ] `QUICK_START.md` موجود است
- [ ] `SYSTEM_SUMMARY.md` موجود است

### ✅ اسکریپت‌ها
- [ ] `deploy.sh` قابل اجرا است
- [ ] `start.sh` قابل اجرا است
- [ ] `Procfile` برای Heroku موجود است

## 🎯 نهایی

### ✅ بررسی نهایی
- [ ] تمام تست‌ها موفق بوده
- [ ] امنیت بررسی شده
- [ ] عملکرد بررسی شده
- [ ] مستندات کامل است

### ✅ آماده استفاده
- [ ] سیستم کاملاً عملیاتی است
- [ ] کاربران می‌توانند کارت تولید کنند
- [ ] مدیران می‌توانند سیستم را مدیریت کنند
- [ ] API برای یکپارچه‌سازی آماده است

---

## 🚀 دستورات مفید

### راه‌اندازی
```bash
# توسعه
npm run dev

# تولید
npm start

# با PM2
pm2 start server.js --name "banking-system"
```

### مانیتورینگ
```bash
# وضعیت PM2
pm2 status

# لاگ‌ها
pm2 logs banking-system

# مانیتور
pm2 monit
```

### نگهداری
```bash
# راه‌اندازی مجدد
pm2 restart banking-system

# به‌روزرسانی
git pull origin main
npm install --production
pm2 restart banking-system
```

---

**🎉 تبریک! سیستم شما آماده استفاده است!**